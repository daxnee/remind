<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="forms">
        <input id="email" type="text" placeholder="이메일을 입력하세요..">
        <input id="companyNumber" type="text" placeholder="사업자등록번호를 입력하세요..."/>
      <input id="userName" type="text" placeholder="이름을 입력하세요..." />
      <input id="phoneNumber" type="text" placeholder="핸드폰 번호를 입력하세요..." />
    </div>
    <button id="btn" type="button">사업 제출</button>
    
    </div>
</body>
<script
    src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
    crossorigin="anonymous"></script>

<script>
    $('#btn').on('click', function(){
        var infoCheck = $('.forms').children()
        for(var i=0; i<infoCheck.length; i++){
            var value = $('#'+infoCheck[i].id).val();
            if(value === '' ){
                console.log('필수정보란을 입력해주세요!')
                return false;
            }
            if(infoCheck[i].id === 'email' && !doCheckEmail(value)){
                console.log("이메일 형식이 올바르지 않습니다!")
                return false;

            }

            if(infoCheck[i].id === 'companyNumber' && !doCheckCompanyNumber(value)){
                console.log("사업자 번호가 올바르지 않습니다!")
                return false;
            }

            if(infoCheck[i].id === 'phoneNumber' && !doCheckPhoneNumber(value)){
                console.log("핸드폰 번호가 올바르지 않습니다!")
                return false;
            }
            
        }
        submitData();
    });


    function doCheckEmail(email) {
        var regEmail = /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i;
        var isEmail = regEmail.test(email);
        return isEmail;
    }

    function doCheckCompanyNumber(num){
        var regCompanyNumber = /([0-9]{3})-?([0-9]{2})-?([0-9]{5})/;
        var isCompanyNumber = regCompanyNumber.test(num);
        return isCompanyNumber;
    }

    function doCheckPhoneNumber(PhoneNum){
        var regPhoneNumber = /^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/;
        var isPhoneNumber = regPhoneNumber.test(PhoneNum)
        return isPhoneNumber;
    }

    function submitData() {
        var jsonData = {};
        jsonData.email = $('#email').val();
        console.log(jsonData.email);
        jsonData.CompanyNumber = $('#companyNumber').val();
        jsonData.userName = $('#userName').val();
        console.log(jsonData);
    }


</script>


</html>